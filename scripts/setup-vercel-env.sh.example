#!/bin/bash

# âš ï¸ IMPORTANT: Copy this file to setup-vercel-env.sh and fill in your actual values
# The actual setup-vercel-env.sh should never be committed to git

echo "ğŸš€ Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì‹œì‘..."

# Production í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
echo "ğŸ“ í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì¤‘..."

# NextAuth ì„¤ì •
echo "YOUR_PRODUCTION_URL" | vercel env add NEXTAUTH_URL production --force
echo "YOUR_NEXTAUTH_SECRET" | vercel env add NEXTAUTH_SECRET production --force

# Database ì„¤ì •
echo "YOUR_DATABASE_URL" | vercel env add DATABASE_URL production --force
echo "YOUR_DIRECT_DATABASE_URL" | vercel env add DIRECT_URL production --force

# Google OAuth
echo "YOUR_GOOGLE_CLIENT_ID" | vercel env add GOOGLE_CLIENT_ID production --force
echo "YOUR_GOOGLE_CLIENT_SECRET" | vercel env add GOOGLE_CLIENT_SECRET production --force

# Google Cloud
echo "YOUR_GOOGLE_CLOUD_PROJECT" | vercel env add GOOGLE_CLOUD_PROJECT production --force

# OpenAI
echo "YOUR_OPENAI_API_KEY" | vercel env add OPENAI_API_KEY production --force

# Application Settings
echo "5242880" | vercel env add MAX_FILE_SIZE production --force
echo "image/jpeg,image/png,image/gif,image/webp" | vercel env add ALLOWED_FILE_TYPES production --force
echo "30" | vercel env add FREE_MONTHLY_LIMIT production --force
echo "1000" | vercel env add PRO_MONTHLY_LIMIT production --force

# Google Cloud ì„œë¹„ìŠ¤ ê³„ì • í‚¤ë¥¼ Base64ë¡œ ì¸ì½”ë”©
if [ -f "google-cloud-key.json" ]; then
  echo "ğŸ“¦ Google Cloud í‚¤ íŒŒì¼ ì¸ì½”ë”© ì¤‘..."
  GOOGLE_KEY_BASE64=$(base64 -i google-cloud-key.json | tr -d '\n')
  echo "$GOOGLE_KEY_BASE64" | vercel env add GOOGLE_APPLICATION_CREDENTIALS_BASE64 production --force
fi

echo "âœ… í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ!"
echo ""
echo "ğŸ“‹ ì„¤ì •ëœ í™˜ê²½ ë³€ìˆ˜ ëª©ë¡:"
vercel env ls production

echo ""
echo "ğŸ” ë‹¤ìŒ ë‹¨ê³„:"
echo "1. Google Cloud Consoleì—ì„œ OAuth ë¦¬ë‹¤ì´ë ‰íŠ¸ URI ì¶”ê°€:"
echo "   https://your-domain.vercel.app/api/auth/callback/google"
echo ""
echo "2. ì½”ë“œì—ì„œ Google Cloud í‚¤ ë””ì½”ë”© ë¡œì§ ì¶”ê°€ í•„ìš”"
echo "3. vercel --prod ëª…ë ¹ì–´ë¡œ ë°°í¬"